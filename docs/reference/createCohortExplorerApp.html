<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Create Cohort explorer shiny app with person level data — createCohortExplorerApp • CohortExplorer</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Create Cohort explorer shiny app with person level data — createCohortExplorerApp"><meta property="og:description" content="Export person level data from omop cdm tables for eligible persons in the cohort. Creates a folder with files
that are part of the Cohort Explorer Shiny app. This app may then be run to review person level profiles."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">CohortExplorer</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.14</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/HowToUseCohortExplorer.html">How to use Cohort Explorer</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://ohdsi.github.io/Hades" class="external-link"><img src='https://ohdsi.github.io/Hades/images/hadesMini.png' width=80 height=17 style='vertical-align: top;'></a>
</li>
<li>
  <a href="https://github.com/OHDSI/CohortExplorer/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Create Cohort explorer shiny app with person level data</h1>
    <small class="dont-index">Source: <a href="https://github.com/OHDSI/CohortExplorer/blob/HEAD/R/CreateCohortExplorerApp.R" class="external-link"><code>R/CreateCohortExplorerApp.R</code></a></small>
    <div class="hidden name"><code>createCohortExplorerApp.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Export person level data from omop cdm tables for eligible persons in the cohort. Creates a folder with files
that are part of the Cohort Explorer Shiny app. This app may then be run to review person level profiles.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">createCohortExplorerApp</span><span class="op">(</span></span>
<span>  connectionDetails <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  connection <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  cohortDatabaseSchema <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">cdmDatabaseSchema</span>,</span>
<span>  vocabularyDatabaseSchema <span class="op">=</span> <span class="va">cdmDatabaseSchema</span>,</span>
<span>  tempEmulationSchema <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"sqlRenderTempEmulationSchema"</span><span class="op">)</span>,</span>
<span>  cohortTable <span class="op">=</span> <span class="st">"cohort"</span>,</span>
<span>  <span class="va">cohortDefinitionId</span>,</span>
<span>  cohortName <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  doNotExportCohortData <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  sampleSize <span class="op">=</span> <span class="fl">25</span>,</span>
<span>  personIds <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">exportFolder</span>,</span>
<span>  <span class="va">databaseId</span>,</span>
<span>  shiftDates <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  assignNewId <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>connectionDetails</dt>
<dd><p>An object of type <code>connectionDetails</code> as created using the
<code><a href="https://ohdsi.github.io/DatabaseConnector/reference/createConnectionDetails.html" class="external-link">createConnectionDetails</a></code> function in the
DatabaseConnector package. Can be left NULL if <code>connection</code> is
provided.</p></dd>


<dt>connection</dt>
<dd><p>An object of type <code>connection</code> as created using the
<code><a href="https://ohdsi.github.io/DatabaseConnector/reference/connect.html" class="external-link">connect</a></code> function in the
DatabaseConnector package. Can be left NULL if <code>connectionDetails</code>
is provided, in which case a new connection will be opened at the start
of the function, and closed when the function finishes.</p></dd>


<dt>cohortDatabaseSchema</dt>
<dd><p>Schema name where your cohort tables reside. Note that for SQL Server,
this should include both the database and schema name, for example
'scratch.dbo'.</p></dd>


<dt>cdmDatabaseSchema</dt>
<dd><p>Schema name where your omop cdm tables with person level data reside.
Note that for SQL Server, this should include both the database and schema name, for example
'scratch.dbo'.</p></dd>


<dt>vocabularyDatabaseSchema</dt>
<dd><p>Schema name where your omop vocabulary tables reside. It maybe the cdmDatabaseSchema.
Note that for SQL Server, this should include both the database and schema name, for example
'scratch.dbo'.</p></dd>


<dt>tempEmulationSchema</dt>
<dd><p>Some database platforms like Oracle and Impala do not truly support
temp tables. To emulate temp tables, provide a schema with write
privileges where temp tables can be created.</p></dd>


<dt>cohortTable</dt>
<dd><p>The name of the cohort table.</p></dd>


<dt>cohortDefinitionId</dt>
<dd><p>The cohort id to extract records.</p></dd>


<dt>cohortName</dt>
<dd><p>(optional) Cohort Name</p></dd>


<dt>doNotExportCohortData</dt>
<dd><p>(Optional) Do you want to not export cohort data? If set to true, parameters cohortDefinitionId,
cohort, cohortDatabaseSchema, cohortName will be ignored. The persons entire
observation period would be considered the cohort. Cohort Name will be 'Observation Period', cohort
id will be set to 0.</p></dd>


<dt>sampleSize</dt>
<dd><p>(Optional, default = 20) The number of persons to randomly sample. Ignored, if personId is given.</p></dd>


<dt>personIds</dt>
<dd><p>(Optional) An array of personId's to look for in Cohort table and CDM.</p></dd>


<dt>exportFolder</dt>
<dd><p>The folder where the output will be exported to. If this folder
does not exist it will be created.</p></dd>


<dt>databaseId</dt>
<dd><p>A short string for identifying the database (e.g. 'Synpuf'). This will be displayed
in shiny app to toggle between databases. Should not have space or underscore (_).</p></dd>


<dt>shiftDates</dt>
<dd><p>(Default = FALSE) Do you want to shift dates? This will help further de-identify data. The shift
is the process of recalibrating dates such that all persons min(observation_period_start_date) is
2000-01-01.</p></dd>


<dt>assignNewId</dt>
<dd><p>(Default = FALSE) Do you want to assign a newId for persons. This will replace the personId in the source with a randomly assigned newId.</p></dd>

</dl></div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="va">connectionDetails</span> <span class="op">&lt;-</span> <span class="fu">createConnectionDetails</span><span class="op">(</span></span></span>
<span class="r-in"><span>  dbms <span class="op">=</span> <span class="st">"postgresql"</span>,</span></span>
<span class="r-in"><span>  server <span class="op">=</span> <span class="st">"ohdsi.com"</span>,</span></span>
<span class="r-in"><span>  port <span class="op">=</span> <span class="fl">5432</span>,</span></span>
<span class="r-in"><span>  user <span class="op">=</span> <span class="st">"me"</span>,</span></span>
<span class="r-in"><span>  password <span class="op">=</span> <span class="st">"secure"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">createCohortExplorerApp</span><span class="op">(</span></span></span>
<span class="r-in"><span>  connectionDetails <span class="op">=</span> <span class="va">connectionDetails</span>,</span></span>
<span class="r-in"><span>  cohortDefinitionId <span class="op">=</span> <span class="fl">1234</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Gowtham Rao.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

